% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots-qc-cv.R
\name{plot_qcmetrics_comparison}
\alias{plot_qcmetrics_comparison}
\title{Comparison of two feature QC metrics variables}
\usage{
plot_qcmetrics_comparison(
  data = NULL,
  plot_type = c("scatter", "diff", "ratio"),
  facet_type = c("grid", "wrap"),
  x_variable,
  y_variable,
  facet_by_class = FALSE,
  filter_data = FALSE,
  include_qualifier = TRUE,
  equality_line = FALSE,
  threshold_value = NA,
  log_scale = FALSE,
  xlim = c(0, NA),
  ylim = c(0, NA),
  cols_page = 5,
  point_size = 1,
  point_alpha = 0.5,
  font_base_size = 8
)
}
\arguments{
\item{data}{A \code{MidarExperiment} object containing pre-calculated QC metrics.}

\item{plot_type}{A character string specifying the type of plot to generate.
Must be one of "scatter", "diff", or "ratio". Selecting "scatter" plots the "y_variable" against the "y_variable" values
as a scatter plot, "diff" plots the difference between the two values against the average value, and "ratio" plots the log2 ratio of the two values against the average value.}

\item{facet_type}{A character string specifying the type of faceting to apply. "grid" creates a grid of facets with shared axes, while "wrap" creates a wrapped layout of facets, each with its own axes. Default is "wrap".}

\item{x_variable}{The name of the QC metric variable to be plotted on the
x-axis.}

\item{y_variable}{The name of the QC metric variable to be plotted on the
y-axis.}

\item{facet_by_class}{If \code{TRUE}, facets the plot by \code{feature_class}, as defined
in the feature metadata.}

\item{filter_data}{Logical; whether to use all data (default) or only
QC-filtered data (filtered via \code{\link[=filter_features_qc]{filter_features_qc()}}).}

\item{include_qualifier}{Logical; whether to include qualifier features
(default is \code{TRUE}).}

\item{equality_line}{Logical; whether to show a line indicating
identical values in both compared variables (default is \code{FALSE}).}

\item{threshold_value}{Numeric; threshold value to be shown as dashed lines
from both axes on the plot (default is \code{NA}).}

\item{log_scale}{Logical, whether to use a log10 scale the axes.}

\item{xlim}{Numeric vector of length 2 for x-axis limits. Use \code{NA} for
auto-scaling (default is \code{c(0, NA)}).}

\item{ylim}{Numeric vector of length 2 for y-axis limits. Use \code{NA} for
auto-scaling (default is \code{c(0, NA)}).}

\item{cols_page}{Integer; number of facet columns per page (default is \code{5}).}

\item{point_size}{Numeric; size of points in millimeters (default is \code{1}).}

\item{point_alpha}{Numeric; transparency of points (default is \code{0.5}).}

\item{font_base_size}{Numeric; base font size in points (default is \code{8}).}
}
\value{
A \code{ggplot2} object representing the scatter plot.
}
\description{
This function generates scatter plots comparing two QC metrics variables
across feature classes. A list of available QC metrics is available from the
\code{\link[=calc_qc_metrics]{calc_qc_metrics()}} documentation.
}
\details{
The comparison is visualized through one of three plot types:
\itemize{
\item Scatter plot: Values of \code{y_variable} vs \code{x_variable}
\item Difference plot: (\code{y_variable} - `x_variable``) vs mean of both values
\item Ratio plot: log2(\code{y_variable} / \code{x_variable}) vs mean of both values
}
\itemize{
\item \code{x_variable} and \code{y_variable} must be available in the QC metrics table.
Please refer to the help page of \code{\link[=calc_qc_metrics]{calc_qc_metrics()}} for more information on
the available QC metric variables.
\item When \code{facet_by_class = TRUE}, then the \code{feature_class} must be defined in the
metadata or retrieved via specific functions, e.g., \code{\link[=parse_lipid_feature_names]{parse_lipid_feature_names()}}.
}
}
\seealso{
\code{\link[=calc_qc_metrics]{calc_qc_metrics()}}, \code{\link[=filter_features_qc]{filter_features_qc()}}, \code{\link[=plot_normalization_qc]{plot_normalization_qc()}}, \code{\link[=normalize_by_istd]{normalize_by_istd()}}
}
