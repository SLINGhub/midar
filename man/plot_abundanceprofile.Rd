% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot-featureprofile.R
\name{plot_abundanceprofile}
\alias{plot_abundanceprofile}
\title{Plot Abundance Profile}
\usage{
plot_abundanceprofile(
  data,
  variable,
  qc_types,
  log_scale,
  use_qc_metrics = FALSE,
  feature_map = NA,
  show_sum = NA,
  exclude_classes = NA,
  filter_data = FALSE,
  include_qualifier = FALSE,
  include_istd = FALSE,
  include_feature_filter = NA,
  exclude_feature_filter = NA,
  analysis_range = NA,
  drop_empty_classes = TRUE,
  density_strip = FALSE,
  scale_factor = 1,
  x_lim = NA,
  x_label = NA,
  y_axis_position = "right",
  segment_width = 0.25,
  font_base_size = 8,
  grid_major_color = "grey50",
  grid_major_linewidth = 0.1,
  grid_minor_color = "grey50",
  grid_minor_linewidth = 0.1
)
}
\arguments{
\item{data}{A MidarExperiment object.}

\item{variable}{A character string indicating the variable to plot. For \code{use_qc_metrics = FALSE},
this must be a base name like "area" or "conc". For \code{use_qc_metrics = TRUE}, this is the
base name of a metric in the \code{metrics_qc} table (e.g., "rt" for "rt_mean_SPL").}

\item{qc_types}{A character vector specifying the QC types to be averaged and plotted.
If \code{use_qc_metrics} is \code{TRUE}, this must be a single character string (e.g., "SPL").}

\item{log_scale}{A logical value indicating whether to use a log10 scale for the x-axis.}

\item{use_qc_metrics}{A logical value. If \code{FALSE} (default), data is summarized on the fly from the main dataset.
If \code{TRUE}, pre-calculated summary data is used from the \code{metrics_qc} table, which is much faster.
When \code{TRUE}, \code{qc_types} must specify only one QC type.}

\item{feature_map}{A named character vector specifying feature classes, their order, and color. The order of the vector determines the y-axis order.
Alternatively, can be a single string: \code{lipidomics} to use a default theme comprising mapping for lipid classes frequently measured in lipidomics methods. When using
the default theme, set \code{drop_empty_classes = TRUE} to avoid showing classes not present in the data.
If \code{NA} (default), the default theme is used.}

\item{show_sum}{A logical value indicating whether to plot a summary point (diamond shape)
representing the mean of the summed abundances for each class. Defaults to \code{TRUE} for
abundance-related variables and \code{FALSE} for others (e.g., "rt", "fwhm").}

\item{exclude_classes}{A character vector of feature classes to be excluded from the plot.}

\item{filter_data}{A logical value indicating whether to use all data (\code{FALSE}, default)
or only QC-filtered data (\code{TRUE}, via \code{\link[=filter_features_qc]{filter_features_qc()}}). This is ignored if \code{use_qc_metrics} is \code{TRUE}.}

\item{include_qualifier}{A logical value indicating whether to include qualifier features. Default is \code{FALSE}.}

\item{include_istd}{A logical value indicating whether to include internal standard (ISTD) features. Default is \code{FALSE}.}

\item{include_feature_filter}{A character or regex pattern to filter features by \code{feature_id}.
If a vector is supplied, features matching any pattern will be included.}

\item{exclude_feature_filter}{A character or regex pattern to exclude features by \code{feature_id}.
If a vector is supplied, features matching any pattern will be excluded.}

\item{analysis_range}{A numeric vector of length 2 specifying the inclusive range of \code{analysis_order}. If \code{NA} (default), all analyses are included.}

\item{drop_empty_classes}{A logical value. If \code{TRUE} (default), feature classes from
\code{feature_map} that are not found in the data are removed from the plot. If \code{FALSE},
they are kept as empty rows.}

\item{density_strip}{A logical value. If \code{TRUE}, a density strip showing the distribution of all
features is added to the top of the plot.}

\item{scale_factor}{A numeric value to scale the selected variable. Default is 1.}

\item{x_lim}{A numeric vector of length 2 specifying the x-axis limits. If \code{log_scale} is \code{TRUE},
these are interpreted as exponents (e.g., \code{c(2, 6)} for \code{10^2} to \code{10^6}). If \code{NA}, limits are
determined automatically from the data.}

\item{x_label}{A character string for the x-axis label. If \code{NA}, a default label is generated.}

\item{y_axis_position}{A character string specifying the y-axis position ("left" or "right"). Default is "right".}

\item{segment_width}{A numeric value for the linewidth of the feature segments. Default is 0.25.}

\item{font_base_size}{A numeric value for the base font size. Default is 8.}

\item{grid_major_color}{Color for major grid lines. Default is "grey50".}

\item{grid_major_linewidth}{Linewidth for major grid lines. Default is 0.1.}

\item{grid_minor_color}{Color for minor grid lines. Default is "grey50".}

\item{grid_minor_linewidth}{Linewidth for minor grid lines. Default is 0.1.}
}
\value{
A \code{ggplot} object representing the abundance profile plot.
}
\description{
Creates a profile plot showing the abundance distribution of features across different classes.
}
