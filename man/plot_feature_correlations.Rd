% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot-qc-correlations.R
\name{plot_feature_correlations}
\alias{plot_feature_correlations}
\title{Plot Highly Correlated Feature Pairs}
\usage{
plot_feature_correlations(
  data,
  variable,
  qc_types = NA,
  cor_min,
  cor_min_neg = -0.99,
  log_scale = FALSE,
  sort_by_corr = TRUE,
  rows_page = 4,
  cols_page = 5,
  filter_data = FALSE,
  include_qualifier = FALSE,
  include_istd = FALSE,
  include_feature_filter = NA,
  exclude_feature_filter = NA,
  min_median_value = NA,
  output_pdf = FALSE,
  path = NA,
  specific_page = NA,
  page_orientation = "LANDSCAPE",
  return_plots = FALSE,
  point_size = 1,
  point_alpha = 0.8,
  point_stroke = 0.3,
  line_size = 0.5,
  line_color = "orange",
  line_alpha = 0.5,
  font_base_size = 8,
  show_progress = TRUE
)
}
\arguments{
\item{data}{A data frame containing numeric columns for correlation analysis}

\item{variable}{A character string indicating the variable to use for PCA
analysis. Must be one of: "area", "height", "intensity", "norm_intensity", "response",
"conc", "conc_raw", "rt", "fwhm".}

\item{qc_types}{A character vector specifying the QC types to plot. It
must contain at least one element. The default is \code{NA}, which means any
of the non-blank QC types ("SPL", "TQC", "BQC", "HQC", "MQC", "LQC",
"QC", "NIST", "LTR") will be plotted if present in the dataset.}

\item{cor_min}{Numeric. Minimum correlation threshold. Only feature pairs with
positive correlations above this value will be shown. Set to Inf to exclude positive
corrections.}

\item{cor_min_neg}{Numeric. Minimum nagative correlation threshold. Only feature pairs with
negative correlations above this value will be shown. Set to -Inf to exclude nagative
corrections.}

\item{log_scale}{A logical value indicating whether to use a log10 scale for
both axes. Default is \code{FALSE}.}

\item{sort_by_corr}{A logical value indicating whether to sort the features in
the plot by correlation or alphabetically by feature ID. Default is \code{TRUE}.}

\item{rows_page}{Number of rows of plots per page.}

\item{cols_page}{Number of columns of plots per page.}

\item{filter_data}{A logical value indicating whether to use all data
(default) or only QC-filtered data (filtered via \code{\link[=filter_features_qc]{filter_features_qc()}}).}

\item{include_qualifier}{A logical value indicating whether to include
qualifier features. Default is \code{TRUE}.}

\item{include_istd}{A logical value indicating whether to include internal
standard (ISTD) features. Default is \code{TRUE}.}

\item{include_feature_filter}{A character or regex pattern used to filter
features by \code{feature_id}. If \code{NA} or an empty string (\code{""}) is provided,
the filter is ignored. When a vector of length > 1 is supplied, only
features with exactly these names are selected (applied individually as
OR conditions).}

\item{exclude_feature_filter}{A character or regex pattern used to exclude
features by \code{feature_id}. If \code{NA} or an empty string (\code{""}) is provided,
the filter is ignored. When a vector of length > 1 is supplied, only
features with exactly these names are excluded (applied individually as
OR conditions).}

\item{min_median_value}{Minimum median
feature value (as determined by the \code{variable}) across all samples from
selected QC types that must be met for a feature to be included in the
PCA analysis. \code{NA} (default) means no filtering will be applied. This
parameter provides an fast way to exclude noisy features from the
analysis. However, it is recommended to use \code{filter_data} with
\code{\link[=filter_features_qc]{filter_features_qc()}}.}

\item{output_pdf}{If \code{TRUE}, saves the generated plots as a PDF
file. When \code{FALSE}, plots are directly plotted.}

\item{path}{The file path for saving the PDF. Must be defined if
\code{output_pdf} is \code{TRUE}.}

\item{specific_page}{An integer specifying a specific page to plot. If
\code{NA} (default), all pages are plotted.}

\item{page_orientation}{Orientation of the PDF paper: \code{"LANDSCAPE"} or
\code{"PORTRAIT"}.}

\item{return_plots}{Logical. If \code{TRUE}, returns the plots as a list of
\code{ggplot2} objects.}

\item{point_size}{A numeric value indicating the size of points in
millimeters. Default is 1.}

\item{point_alpha}{A numeric value indicating the transparency of
points (0-1). Default is 0.8.}

\item{point_stroke}{A numeric value indicating the stroke width of the points. Default is 0.3.}

\item{line_size}{A numeric value indicating the size of the correlation line. Default is 0.5.}

\item{line_color}{A character string indicating the color of the correlation line. Default is orange.}

\item{line_alpha}{A numeric value indicating the transparency of the correlation line (0-1). Default is 0.5.}

\item{font_base_size}{A numeric value indicating the base font size for
plot text elements. Default is 8.}

\item{show_progress}{Logical. If \code{TRUE}, displays a progress bar during
plot creation.}
}
\value{
A ggplot object showing scatter plots of highly correlated feature pairs.
Returns NULL if no correlations meet the threshold criteria.
}
\description{
Creates scatter plots for pairs of features that have correlations outside specified thresholds.
Each pair is displayed in a separate facet with its correlation coefficient.
}
