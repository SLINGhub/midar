% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots-calibcurves.R
\name{plot_calibrationcurves}
\alias{plot_calibrationcurves}
\title{Plot Calibration Curves}
\usage{
plot_calibrationcurves(
  data = NULL,
  variable = "norm_intensity",
  qc_types = NA,
  fit_overwrite,
  fit_model = c("linear", "quadratic"),
  fit_weighting = c(NA, "none", "1/x", "1/x^2"),
  show_confidence_interval = NA,
  zoom_n_points = NA,
  log_axes = FALSE,
  filter_data = FALSE,
  include_qualifier = TRUE,
  include_istd = FALSE,
  include_feature_filter = NA,
  exclude_feature_filter = NA,
  output_pdf = FALSE,
  path = NA,
  return_plots = FALSE,
  point_size = 1.5,
  line_width = 0.7,
  point_color = NA,
  point_fill = NA,
  point_shape = NA,
  line_color = "#4575b4",
  ribbon_fill = "#e6f6ff",
  font_base_size = 7,
  rows_page = 4,
  cols_page = 5,
  specific_page = NA,
  page_orientation = "LANDSCAPE",
  show_progress = TRUE
)
}
\arguments{
\item{data}{A \code{MidarExperiment} object containing the dataset.}

\item{variable}{Variable to plot on the y-axis, usually intensity. Default
is \code{"intensity"}.}

\item{qc_types}{A character vector specifying the QC types to plot. It must contain
at least \code{CAL}, which represents calibration curve samples. Other QC types will be
plotted as points when they have assigned concentrations (see QC-concentration metadata).
These QC types need to be present in the data and defined in the analysis metadata.
The default is \code{NA}, which means any of the QC types "CAL", "HQC", "MQC", "LQC",
"EQA", "QC", will be plotted if present and have assigned concentrations.}

\item{fit_overwrite}{If \code{TRUE},
the function will use the provided \code{fit_model} and \code{fit_weighting} values
for all analytes and ignore any fit method and weighting settings defined in
the metadata .}

\item{fit_model}{A character string specifying the default regression fit
method to use for the calibration curve. Must be one of \code{"linear"} or
\code{"quadratic"}. This method will be applied if no specific fit method is
defined for a feature in the metadata, or
when \code{fit_overwrite = TRUE}.}

\item{fit_weighting}{A character string specifying the default weighting
method for the regression points in the calibration curve. Must be one of
\code{"none"}, \code{"1/x"}, or \code{"1/x^2"}. This method will be applied if no
specific weighting method is defined for a feature in the metadata, or
when \code{fit_overwrite = TRUE}.}

\item{show_confidence_interval}{Logical, if \code{TRUE}, displays the confidence interval as ribbon.
Default is \code{NA}, in which case confidence intervals are plotted in a linear
scale and ommitted in log-log scale.}

\item{zoom_n_points}{Number of x lowest concentration points to display, used for zooming. Set to \code{NULL} or \code{NA} (default) to show all points.}

\item{log_axes}{Logical. Determines whether the x and y axes are displayed in a logarithmic scale (log-log scale).
Set to \code{TRUE} to enable logarithmic scaling; otherwise, set to \code{FALSE} for a linear scale.
Note: If \code{TRUE}, any regression curves or standard error regions with negative
values will be omitted from display.}

\item{filter_data}{Logical, if \code{TRUE}, uses QC filtered data; otherwise uses
raw data. Default is \code{FALSE}.}

\item{include_qualifier}{Logical, whether to include qualifier features. Default is \code{TRUE}.}

\item{include_istd}{Logical, whether to include internal standard (ISTD) features. Default is \code{TRUE}.}

\item{include_feature_filter}{Regex pattern to include features. If omitted,
considers all features.}

\item{exclude_feature_filter}{Regex pattern to exclude features. If omitted,
excludes none.}

\item{output_pdf}{Logical, if \code{TRUE}, saves plots as a PDF file. Default is
\code{FALSE}.}

\item{path}{File path for saving the PDF. Default is an empty string.}

\item{return_plots}{Logical, if \code{TRUE}, returns plots as a list of ggplot2
objects. Default is \code{FALSE}.}

\item{point_size}{Size of points in the plot. Default is 1.5.}

\item{line_width}{Width of regression lines. Default is 0.7.}

\item{point_color}{A vector specifying the colors for points corresponding
to different QC types. This can be either an unnamed vector or a named
vector, with names corresponding to QC types. Unused colors will be ignored.
Default is \code{NA} which corresponds to the default colors for QC types defined in the package.}

\item{point_fill}{A vector specifying the fill colors for points corresponding
to different QC types. This can be either an unnamed vector or a named
vector, with names corresponding to QC types. Unused fill colors will be ignored.
Default is \code{NA} which corresponds to the default fill colors for QC types defined in the package.}

\item{point_shape}{A vector specifying the shapes for points corresponding
to different QC types. This can be either an unnamed vector or a named
vector, with names corresponding to QC types. Unused shapes will be ignored.
Default is \code{NA} which corresponds to the default shapes for QC types defined in the package.}

\item{line_color}{Color of the regression line. Default is \code{"#4575b4"}.}

\item{ribbon_fill}{Color for the confidence interval ribbon. Default is
\code{"#91bfdb40"}.}

\item{font_base_size}{Base font size for text in plots. Default is 7.}

\item{rows_page}{Number of plot rows. Default is 4.}

\item{cols_page}{Number of plot columns. Default is 5.}

\item{specific_page}{Show/save a specific page number only. \code{NA} plots/saves all pages.}

\item{page_orientation}{Orientation of PDF, either \code{"LANDSCAPE"} or
\code{"PORTRAIT"}. Default is `"LANDSCAPE}

\item{show_progress}{Logical. If \code{TRUE}, displays a progress bar during
plot creation.}
}
\description{
This function plots calibration curves of each feature where defined
and displays QC samples with defined concentrations within the plot.
Users can select a regression model (\code{linear} or \code{quadratic}) and apply
weighting (\code{none}, \code{"1/x"}, or \code{"1/x^2"}), either through function arguments
or feature metadata.
}
\details{
Features for plotting can be filtered using QC filters defined via
\code{\link[=filter_features_qc]{filter_features_qc()}} or through \code{include_feature_filter} and
\code{exclude_feature_filter} arguments. The resulting plots offer extensive
customization options, including point size, line width, point color, point
fill, point shape, line color, ribbon fill, and font base size.

Plots will be divided into multiple pages if the number of features exceeds
the product of \code{rows_page} and \code{cols_page} settings. The function supports
both direct plotting within R and saving plots as PDF files. Additionally,
plots can be returned as a list of ggplot2 objects for further manipulation
or integration into other analyses.
}
