<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Structure of MiDAR • midar</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Structure of MiDAR">
<meta name="description" content="MiDAR: Postprocessing and Quality Control of Small-Molecule Mass Spectrometry Data
">
<meta property="og:description" content="MiDAR: Postprocessing and Quality Control of Small-Molecule Mass Spectrometry Data
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">midar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/getstarted.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Key Concepts</h6></li>
    <li><a class="dropdown-item" href="../articles/datastructure.html">Data Structures</a></li>
    <li><a class="dropdown-item" href="../articles/midarexperiment.html">MidarExperiment</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Data and Metadata</h6></li>
    <li><a class="dropdown-item" href="../articles/dataimport.html">Importing</a></li>
    <li><a class="dropdown-item" href="../articles/annotating.html">Annotating (Metadata)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/BatchDriftCorrect.html">Batch/Drift Correction</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/updates.html">Updates</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SLINGhub/midar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data Structure of MiDAR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SLINGhub/midar/blob/HEAD/vignettes/articles/datastructure.Rmd" class="external-link"><code>vignettes/articles/datastructure.Rmd</code></a></small>
      <div class="d-none name"><code>datastructure.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <strong><code>MidarExperiment</code></strong> object organizes
data into two main categories: <code>data</code> and
<code>metadata.</code> The <code>data</code> category includes tables
for raw data, processed data, and feature metrics, while the
<code>metadata</code> category encompasses analysis annotations, feature
annotations, internal standard annotations, batch annotations, response
curve annotations, and calibration curves. Key identifiers, such as
<code>analysis_id</code> for analyses and <code>feature_id</code> for
features, are used to link data and metadata and are integral to the
functions of the package.</p>
<hr>
</div>
<div class="section level2">
<h2 id="midarexperiment">MidarExperiment<a class="anchor" aria-label="anchor" href="#midarexperiment"></a>
</h2>
<p>The <code>MidarExperiment</code> object serves as the primary data
container in the MiDAR workflow. It encompasses all experimental and
processed data, metadata, details of applied processing steps, and the
current data status. All MiDAR functions for data processing,
management, and visualization utilize <code>MidarExperiment</code>
objects as both input and output.</p>
</div>
<div class="section level2">
<h2 id="data-and-metadata">Data and Metadata<a class="anchor" aria-label="anchor" href="#data-and-metadata"></a>
</h2>
<p>Data within the <code>MidarExperiment</code> is organized into <span style="color: blue;"><strong>data</strong></span> and <span style="color: blue;"><strong>metadata</strong></span> categories, each
divided into tables (data.frames).</p>
<div class="section level3">
<h3 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Category</th>
<th>Table name (Slot)</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Raw Data</td>
<td><code>dataset_orig</code></td>
<td>Original imported analysis data.</td>
</tr>
<tr class="even">
<td>Processed Data</td>
<td><code>dataset</code></td>
<td>Annotated raw and processed data with available metadata.</td>
</tr>
<tr class="odd">
<td>Feature metrics</td>
<td><code>feature_metrics</code></td>
<td>Information and various quality control metrics for features.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="metadata">Metadata<a class="anchor" aria-label="anchor" href="#metadata"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Data Type</th>
<th>Table name (Slot)</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Analyses Annotation</td>
<td><code>annot_analyses</code></td>
<td>Details sample categories, amounts, dilutions, processing batches,
and other relevant information.</td>
</tr>
<tr class="even">
<td>Features Annotation</td>
<td><code>annot_features</code></td>
<td>Describes internal standards for normalization, response factors,
feature classification, and specifies quantifiers and internal
standards.</td>
</tr>
<tr class="odd">
<td>Internal Standard</td>
<td><code>annot_istds</code></td>
<td>Concentrations of internal standards added to samples.</td>
</tr>
<tr class="even">
<td>Batches</td>
<td><code>annot_batches</code></td>
<td>Specifies the boundaries (start and end) for each defined
batch.</td>
</tr>
<tr class="odd">
<td>Response Curves</td>
<td><code>annot_responsecurves</code></td>
<td>Defines response curves, detailing sample amounts across different
steps.</td>
</tr>
<tr class="even">
<td>Calibration Curves</td>
<td><code>annot_standards</code></td>
<td>Defines concentrations of unlabelled and labelled standards in
calibration curves and other quality control materials.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="key-data-identifiers">Key Data Identifiers<a class="anchor" aria-label="anchor" href="#key-data-identifiers"></a>
</h2>
<p>The following key data fields are essential for organizing data
within MiDAR. Many MiDAR functions depend on these fields, and exported
data utilizes these identifier names.</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Table</th>
<th>Field</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Analyses</td>
<td><span style="color: blue;"><code>analysis_id</code></span></td>
<td>Unique identifier for each analysis.</td>
</tr>
<tr class="even">
<td></td>
<td><code>sample_category</code></td>
<td>Describes the function of sample in the analysis, such as Blank, QC,
or study sample. Must be a subset of SPL, TQC, BQC, PBLK, SBLK, UBLK,
MBLK,</td>
</tr>
<tr class="odd">
<td></td>
<td><code>batch_id</code></td>
<td>Unique identifier for each batch level.</td>
</tr>
<tr class="even">
<td>Features</td>
<td><span style="color: blue;"><code>feature_id</code></span></td>
<td>Unique identifier for each feature.</td>
</tr>
<tr class="odd">
<td></td>
<td><code>istd_feature_id</code></td>
<td>The <code>feature_id</code> of the internal standard used to
normalize raw intensities (each internal standard must be defined as a
feature).</td>
</tr>
</tbody>
</table>
<p><strong>Field Naming Considerations</strong></p>
<p>Certain field names differ from conventional terminology
(e.g., <code>analysis_id</code> instead of <code>sample_id</code>) to
enhance clarity and prevent confusion with other identifiers. A sample
may be measured multiple times across different methods or processing
replicates, necessitating distinct identifiers. Similarly, analytes can
be quantified through multiple transitions or adducts, which is
why <code>feature_id</code> is designated as the primary identifier.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bo Burla.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
