<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Import plain analysis results — import_data_csv • midar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import plain analysis results — import_data_csv"><meta name="description" content="Imports .csv file(s) reprensenting analysis results in a wide format with samples in rows and features in columns.
The first column must contain the analysis identifier, subsequent columns can be metadata columns, followed by value of different features.
The table format must be in the long format with columns for the raw data file name, feature ID, and the peak intensity and other parameters.
Additional information, such as retention time, FWHM, precursor/product MZ, and CE will also be imported and will available from the MidarExperiment object for downstream analyses.
When a path to a folder is provided, all .scv files in that folder will be imported and merged into one raw dataset. This is useful, e.g. when importing datasets that were pre-processed in blocks resulting in different files.
Each feature and raw data file pair must only occur once within and across all .csv source data files, duplicated return an error."><meta property="og:description" content="Imports .csv file(s) reprensenting analysis results in a wide format with samples in rows and features in columns.
The first column must contain the analysis identifier, subsequent columns can be metadata columns, followed by value of different features.
The table format must be in the long format with columns for the raw data file name, feature ID, and the peak intensity and other parameters.
Additional information, such as retention time, FWHM, precursor/product MZ, and CE will also be imported and will available from the MidarExperiment object for downstream analyses.
When a path to a folder is provided, all .scv files in that folder will be imported and merged into one raw dataset. This is useful, e.g. when importing datasets that were pre-processed in blocks resulting in different files.
Each feature and raw data file pair must only occur once within and across all .csv source data files, duplicated return an error."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">midar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getstarted.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Key Concepts</h6></li>
    <li><a class="dropdown-item" href="../articles/datastructure.html">Data Structures</a></li>
    <li><a class="dropdown-item" href="../articles/midarexperiment.html">MidarExperiment</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Data and Metadata</h6></li>
    <li><a class="dropdown-item" href="../articles/dataimport.html">Importing</a></li>
    <li><a class="dropdown-item" href="../articles/annotating.html">Annotating (Metadata)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/BatchDriftCorrect.html">Batch/Drift Correction</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/updates.html">Updates</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SLINGhub/midar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Import plain analysis results</h1>
      <small class="dont-index">Source: <a href="https://github.com/SLINGhub/midar/blob/HEAD/R/data-import.R" class="external-link"><code>R/data-import.R</code></a></small>
      <div class="d-none name"><code>import_data_csv.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Imports .csv file(s) reprensenting analysis results in a wide format with samples in rows and features in columns.
The first column must contain the analysis identifier, subsequent columns can be metadata columns, followed by value of different features.
The table format must be in the long format with columns for the raw data file name, feature ID, and the peak intensity and other parameters.
Additional information, such as retention time, FWHM, precursor/product MZ, and CE will also be imported and will available from the <code>MidarExperiment</code> object for downstream analyses.</p>
<p>When a path to a folder is provided, all .scv files in that folder will be imported and merged into one raw dataset. This is useful, e.g. when importing datasets that were pre-processed in blocks resulting in different files.
Each feature and raw data file pair must only occur once within and across all .csv source data files, duplicated return an error.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_data_csv</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">variable_name</span>,</span>
<span>  analysis_id_col <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  <span class="va">import_metadata</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>MidarExperiment object</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>One or more file names with path, or a folder path, which case all *.csv files in this folder will be read.</p></dd>


<dt id="arg-variable-name">variable_name<a class="anchor" aria-label="anchor" href="#arg-variable-name"></a></dt>
<dd><p>Variable type representing the values in the table. Must be one of "intensity", "norm_intensity", "conc", "area", "height", "response")</p></dd>


<dt id="arg-analysis-id-col">analysis_id_col<a class="anchor" aria-label="anchor" href="#arg-analysis-id-col"></a></dt>
<dd><p>Column to be used as analysis_id. <code>NA</code> (default) used 'analysis_id' if present, or the first column if it contains unique values.</p></dd>


<dt id="arg-import-metadata">import_metadata<a class="anchor" aria-label="anchor" href="#arg-import-metadata"></a></dt>
<dd><p>Import additional metadata columns (e.g. batch ID, sample type) and add to the <code>MidarExperiment</code> object.
Only following metadata column names are supported: "qc_type", "batch_id", "is_quantifier", "is_istd", "run_seq_num", "precursor_mz", "product_mz", "collision_energy"</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>MidarExperiment object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"plain_wide_dataset.csv"</span>, package <span class="op">=</span> <span class="st">"midar"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mexp</span> <span class="op">&lt;-</span> <span class="fu"><a href="MidarExperiment.html">MidarExperiment</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mexp</span> <span class="op">&lt;-</span> <span class="fu">import_data_csv</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mexp</span>,</span></span>
<span class="r-in"><span>  path <span class="op">=</span> <span class="va">file_path</span>,</span></span>
<span class="r-in"><span> variable_name <span class="op">=</span> <span class="st">"conc"</span>,</span></span>
<span class="r-in"><span> import_metadata <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #00BB00;">Imported 87 analyses with 5 features</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">`feature_conc` selected as default feature intensity. Modify with `set_intensity_var()`.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #00BB00;">Analysis metadata associated with 87 analyses.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #00BB00;">Feature metadata associated with 5 features.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">Analysis order was based on sequence of analysis results, as no timestamps were found.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">Use `set_analysis_order` to define alternative analysis orders.</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mexp</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">MidarExperiment</span> <span style="color: #00BBBB;">─────────────────────────────────────────────────────────────</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Title:</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Processing status: </span><span style="color: #0000BB; font-weight: bold;">Annotated raw CONC values</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Annotated Raw Data</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Analyses: 87</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Features: 5</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Raw signal used for processing: `feature_conc`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Metadata</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Analyses/samples: <span style="color: #00BB00; font-weight: bold;">✔</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Features/analytes: <span style="color: #00BB00; font-weight: bold;">✔</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Internal standards: <span style="color: #BB0000; font-weight: bold;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Response curves: <span style="color: #BB0000; font-weight: bold;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Calibrants/QC concentrations: <span style="color: #BB0000; font-weight: bold;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Study samples: <span style="color: #BB0000; font-weight: bold;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Processing Status</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Isotope corrected: <span style="color: #BB0000;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • ISTD normalized: <span style="color: #BB0000;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • ISTD quantitated: <span style="color: #00BB00;">✔</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Drift corrected variables: <span style="color: #BB0000;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Batch corrected variables: <span style="color: #BB0000;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Feature filtering applied: <span style="color: #BB0000;">✖</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Exclusion of Analyses and Features</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Analyses manually excluded (`analysis_id`): <span style="color: #BB0000;">NA</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bo Burla.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

