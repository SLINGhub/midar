---
title: "Getting Started"
output: 
  rmarkdown::html_vignette:
    fig_width: 6
    fig_height: 4
vignette: >
  %\VignetteIndexEntry{Getting Started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  warning = FALSE,
  comment = "#>"
)
```

`MiDAR` is an R package to reproducibly post-process, assess, quality control, and report small-molecule mass spectrometry (MS) datasets, e.g. from targeted lipidomics and metabolomics experiments.

`MiDAR` is tailored to handle different analytical designs, data types and data processing strategies. As such, this package provides functions to import data files from from different commercial and open-source software. Data processing functions include, internal standard and sample amount-based normalization, quantification, as well as drift and batch corrections. Quality control (QC) functions provide QC metrics and plots of raw and processed data, and QC-based feature filtering.

Datasets and processing steps are tracked, and can be saved as `MiDAR` object (RDS) files, Excel, PowerPoint and interactive HTML-based reports, enabling sharing and reporting of all data, metadata and applied data processing steps.

## Example Workflow

Below is example of a simple data processing workflow, starting with the peak integration results from `MRMkit` ([https://github.com/MRMkit](https://github.com/MRMkit/MRMkit))

```{r}
library(midar)

# Get paths of example files included with this package
file_path <- system.file("extdata", "sPerfect_MRMkit.tsv", package = "midar")

# Create a MidarExperiment object (S4)
mexp <- MidarExperiment()

# Load data and metadata
mexp <- midar::data_import_mrmkit(data = mexp, path = file_path,use_metadata = TRUE)

# Normalize and quantitate each feature by internal standards
#mexp <- calc_normalize_by_istd(mexp)

# Get QC metrics for each feature
#mexp <- qc_calc_metrics(mexp)

# Filter features according to QC criteria
#mexp <- qc_apply_filter(
#  data = mexp, 
#  missing.normintensity.spl.prop.max = 0.2,
#  cv.conc.bqc.max = 30,
#  signalblank.median.pblk.min = 3,
#  qualifier.include = TRUE, 
#  istd.include = FALSE
#)
```

## Contributor Code of Conduct

Please note that the midar project is released with a [Contributor Code of Conduct](https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.
