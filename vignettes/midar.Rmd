---
title: "Getting Started"
author: "Bo Burla"
date: "`r Sys.Date()`"

output: 
  rmarkdown::html_vignette:
    toc: true
    toc_depth: 3
    fig_width: 6
    fig_height: 4
vignette: >
  %\VignetteIndexEntry{Getting Started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r pkgs, include=FALSE}
library(midar)
knitr::opts_chunk$set(
  collapse = TRUE,
  warning = FALSE,
  comment = "#>"
)
```

`MiDAR` is an R package designed to assist with the reproducible post-processing, assessment, quality control, and reporting of small-molecule mass spectrometry (MS) datasets, such as those from targeted lipidomics and metabolomics experiments.

This package is aimed at experimental lab scientists and analysts, enabling them to process their data with only basic coding or R skills required.

MiDAR can handle different analytical designs and data types, offering functions to import data from various software platforms. It includes options for normalization, quantification, and drift/batch corrections, as well as quality control metrics, feature filtering, and visualizations. Functions to produce reports and data exports are also available, allowing users to share full datasets along with processing information.

With MiDAR, both analytical and bioinformatics scientists can manage their mass spectrometry data more easily and independently, facilitating collaboration on datasets.

## Example Workflow

Below is example of a simple data processing workflow, starting with the peak integration results from `MRMkit` ([https://github.com/MRMkit](https://github.com/MRMkit/MRMkit))

```{r}


# Get paths of example files included with this package
file_path <- system.file("extdata", "sPerfect_MRMkit.tsv", package = "midar")

# Create a MidarExperiment object (S4)
mexp <- MidarExperiment()

# Load data and metadata
mexp <- midar::data_import_mrmkit(data = mexp, 
                                  path = file_path, 
                                  include_metadata = TRUE)

# # Normalize and quantitate each feature by internal standards
# mexp <- calc_normalize_by_istd(mexp)
# 
# # Get QC metrics for each feature
# mexp <- qc_calc_metrics(mexp)
# 
# # Filter features according to QC criteria
# mexp <- qc_apply_feature_filter(
#   data = mexp, 
#   missing.normintensity.spl.prop.max = 0.2,
#   max.cv.conc.bqc = 30,
#   min.min.min.min.signalblank.median.spl.pblk = 3,
#   qualifier.include = TRUE, 
#   istd.include = FALSE
#)
```

## Contributor Code of Conduct

Please note that the midar project is released with a [Contributor Code of Conduct](https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.
